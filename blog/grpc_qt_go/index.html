<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-blog-js.1ff08fc5db06c66d40b5.css">.tagsList-module--tag--2ZOFF{background-color:green;border-radius:.2em;display:inline-flex;margin:.5em 1em .5em 0;padding:.4em}.tagsList-module--tag--2ZOFF a{color:#fff}.tagsList-module--tagsWrapper--2Ckb4 h1,.tagsList-module--tagsWrapper--2Ckb4 h2,.tagsList-module--tagsWrapper--2Ckb4 h3,.tagsList-module--tagsWrapper--2Ckb4 h4,.tagsList-module--tagsWrapper--2Ckb4 h5,.tagsList-module--tagsWrapper--2Ckb4 h6,.tagsList-module--tagsWrapper--2Ckb4 hr{margin:1em 0}#backToTopButton-module--toTopButton--wEvr0{border-radius:.2em;border:none;bottom:20px;color:green;cursor:pointer;display:none;font-size:18px;outline:none;padding:15px;position:fixed;right:30px;z-index:99}#backToTopButton-module--toTopButton--wEvr0 p{margin:0}.header-module--content--3T2Dn{margin:0 auto;max-width:960;padding:1.45rem 1.0875rem}.header-module--link--1TPaE{color:#fff;text-decoration:none}.header-module--title--2iLmX{margin:0;text-align:center}.header-module--wrapper--leNpA{background:green;margin-bottom:1.45rem}.blog-module--date--29leF{color:#a9a9a9}.blog-module--title--14O4k{color:green}</style><style data-href="/0.7a7fd10b08846091aeed.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.0.67"/><title data-react-helmet="true">/dev/null</title><link data-react-helmet="true" rel="shortcut icon" type="image/png" href="data:image/png;base64,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"/><meta data-react-helmet="true" name="description"/><meta data-react-helmet="true" name="keywords"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:125%/1.45 'Quattrocento Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Quattrocento Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;margin:1em 0;text-align:justify;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.90625rem;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1.1487rem;line-height:1.45rem;border-left:0.54375rem solid #1ca086;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;margin:1em 0;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:green;text-decoration:none;text-shadow:.03em 0 #fff,-.03em 0 #fff,0 .03em #fff,0 -.03em #fff,.06em 0 #fff,-.06em 0 #fff,.09em 0 #fff,-.09em 0 #fff,.12em 0 #fff,-.12em 0 #fff,.15em 0 #fff,-.15em 0 #fff;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 1px, #1ca086 1px, #1ca086 2px, rgba(0, 0, 0, 0) 2px);background:none;text-shadow:none;}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:2.175rem;margin-bottom:0.725rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.45rem;color:hsla(0,0%,0%,0.8);font-style:normal;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:24.65px;}blockquote{border-left:0.27187rem solid #1ca086;color:hsla(0,0%,0%,0.59);padding-left:0.81563rem;font-style:italic;margin-left:-1.0875rem;margin-right:0;}}</style><link href="//fonts.googleapis.com/css?family=Work+Sans:600|Quattrocento+Sans:400,400i,700" rel="stylesheet" type="text/css"/><link rel="stylesheet" href="https://assets-cdn.github.com/assets/gist-embed-87673c31a5b37b5e6556b63e1081ebbc.css"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="stylesheet" href="https://assets-cdn.github.com/assets/gist-embed-87673c31a5b37b5e6556b63e1081ebbc.css"/><link as="script" rel="preload" href="/webpack-runtime-3fc9cd4e6e90c49d5b6c.js"/><link as="script" rel="preload" href="/app-eb7d6b37a92e4271bd05.js"/><link as="script" rel="preload" href="/0-9b96bb0ff7b3bd09afb6.js"/><link as="script" rel="preload" href="/8-9b49af54ee57178d2a77.js"/><link as="script" rel="preload" href="/component---src-templates-blog-js-c4d3b5414804484787db.js"/><link rel="preload" href="/static/d/641/path---blog-grpc-qt-go-462-7e2-x7LKfCdEdcdBF0bb7IVebFxAfms.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><div class="header-module--wrapper--leNpA"><div class="header-module--content--3T2Dn"><h1 class="header-module--title--2iLmX"><a class="header-module--link--1TPaE" href="/">/dev/null</a></h1></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0"><div><h1 class="blog-module--title--14O4k">Use gRPC/protobuf with C++ and Go</h1><div class="blog-module--date--29leF">July 24, 2017<!-- --> - <!-- -->10<!-- --> min read</div><hr/><div class="tagsList-module--tagsWrapper--2Ckb4"><div class="tagsList-module--tag--2ZOFF"><a href="/tags/c/">C++</a></div><div class="tagsList-module--tag--2ZOFF"><a href="/tags/development/">development</a></div><div class="tagsList-module--tag--2ZOFF"><a href="/tags/go/">Go</a></div><div class="tagsList-module--tag--2ZOFF"><a href="/tags/g-rpc/">gRPC</a></div><div class="tagsList-module--tag--2ZOFF"><a href="/tags/protoc/">protoc</a></div><div class="tagsList-module--tag--2ZOFF"><a href="/tags/protocol-buffer/">Protocol buffer</a></div><div class="tagsList-module--tag--2ZOFF"><a href="/tags/tutorial/">tutorial</a></div></div><hr/><div class="toc"><ul>
<li><a href="/blog/grpc_qt_go/#requirements">Requirements</a></li>
<li><a href="/blog/grpc_qt_go/#installation">Installation</a></li>
<li>
<p><a href="/blog/grpc_qt_go/#project">Project</a></p>
<ul>
<li><a href="/blog/grpc_qt_go/#proto">Proto</a></li>
<li><a href="/blog/grpc_qt_go/#server">Server</a></li>
<li><a href="/blog/grpc_qt_go/#client">Client</a></li>
</ul>
</li>
</ul></div><hr/><div><p>In this guide I will show you how to use <a href="http://www.grpc.io/">gRPC</a> to write a simple client (in C++) and server (in Go) for your service.</p>
<p>For this tutorial we will use the code available in the following Github project: <a href="https://github.com/pasdam/grpcExample">pasdam/grpcExample</a>.</p>
<p>For the client, in this article I'll show how to write a command line one, but in the repository there is also a GUI client written with the <a href="https://www.qt.io">Qt framework</a>.</p>
<h2 id="requirements"><a href="#requirements" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h2>
<ul>
<li>gRPC 1.4.2;</li>
<li>Go 1.8.3;</li>
<li>Protobuf 3.3.2;</li>
<li>g++.</li>
</ul>
<p>Note: the code might works also with previous versions, but it was tested only with the specified ones.</p>
<h2 id="installation"><a href="#installation" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p>To install the C++ version on MacOS, if you have brew installed just open a terminal and execute:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">brew <span class="token function">install</span> grpc pkg-config</code></pre></div>
<p>it will install also the protobuf compiler, protoc.</p>
<p>Now we need to install the go plugin with the command:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">go get -u github.com/golang/protobuf/protoc-gen-go</code></pre></div>
<p>For other language-specific installation instructions for gRPC runtime, please refer to the <a href="https://github.com/grpc/grpc/blob/master/INSTALL.md">official guide</a>.</p>
<h2 id="project"><a href="#project" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project</h2>
<p>The folders structure is be the following:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">- client
  |- cli
  |- core
  |- qt
- protocol
- server</code></pre></div>
<p>In the <em>client/cli</em> folder we will create the command line c++ client, whereas the Qt one is in <em>client/qt</em>; common files will be stored in <em>client/core</em>. The <em>protocol</em> folder will contains the proto/grpc definitions. And finally the <em>server</em> directory will contains the server written in Go.</p>
<h3 id="proto"><a href="#proto" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Proto</h3>
<p>We are going to define a simple greeting service in the file <em>protocol/greeting.proto</em>:</p>
<p><div id="gist91274060" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-greeting-proto" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-protocol-buffer ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-greeting-proto-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-greeting-proto-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">syntax</span> = <span class="pl-s">&quot;proto3&quot;</span>;</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-greeting-proto-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-greeting-proto-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">package</span> <span class="pl-en">example</span>;</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-greeting-proto-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-greeting-proto-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">service</span> <span class="pl-en">Greeter</span> {</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-greeting-proto-LC6" class="blob-code blob-code-inner js-file-line">    rpc Hello (GreetingRequest) returns (GreetingReply) {}</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-greeting-proto-LC7" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-greeting-proto-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-greeting-proto-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-k">message</span> <span class="pl-en">GreetingRequest</span> {</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-greeting-proto-LC10" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">string</span> <span class="pl-smi">name</span> = <span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-greeting-proto-LC11" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-greeting-proto-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-greeting-proto-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-k">message</span> <span class="pl-en">GreetingReply</span> {</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-greeting-proto-LC14" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">string</span> <span class="pl-smi">text</span> = <span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="file-greeting-proto-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-greeting-proto-LC15" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pasdam/98fb5343cb2ed9c3be55148413ae755b/raw/3018ad54524a99fb20210390fe9198108256d45e/greeting.proto" style="float:right">view raw</a>
        <a href="https://gist.github.com/pasdam/98fb5343cb2ed9c3be55148413ae755b#file-greeting-proto">greeting.proto</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
</p>
<p>This service has only one method that accept a string parameter and replies with another string.</p>
<p>Then we need to generate the code to use on both the client and the server, so from the project root execute the following:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">PROTOS_PATH<span class="token operator">=</span>./protocol
OUT_DIR<span class="token operator">=</span>./gen
OUT_GO<span class="token operator">=</span><span class="token variable">$OUT_DIR</span>/go
<span class="token function">mkdir</span> -p <span class="token variable">$OUT_GO</span>
protoc -I <span class="token variable">$PROTOS_PATH</span> --cpp_out<span class="token operator">=</span><span class="token variable">$OUT_DIR</span> --go_out<span class="token operator">=</span>plugins<span class="token operator">=</span>grpc:<span class="token variable">$OUT_GO</span> --grpc_out<span class="token operator">=</span><span class="token variable">$OUT_DIR</span> --plugin<span class="token operator">=</span>protoc-gen-grpc<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">which</span> grpc_cpp_plugin<span class="token variable">`</span></span> protocol/*.proto</code></pre></div>
<p>and then compile it:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">cd</span> <span class="token variable">$OUT_DIR</span>
g++ -I/usr/local/include -pthread -std<span class="token operator">=</span>c++11 -c *.cc</code></pre></div>
<p>Note: On Windows, for the last command the include path should be changed.</p>
<h3 id="server"><a href="#server" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Server</h3>
<p>The next step is to implement the service in Go, in the file <em>server/main.go</em>:</p>
<p><div id="gist91273852" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-main-go" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-go ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-main-go-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-main-go-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">package</span> main</td>
      </tr>
      <tr>
        <td id="file-main-go-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-main-go-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-go-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-main-go-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> (</td>
      </tr>
      <tr>
        <td id="file-main-go-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-main-go-LC4" class="blob-code blob-code-inner js-file-line">	<span class="pl-s"><span class="pl-pds">&quot;</span>log<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-go-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-main-go-LC5" class="blob-code blob-code-inner js-file-line">	<span class="pl-s"><span class="pl-pds">&quot;</span>net<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-go-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-main-go-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-go-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-main-go-LC7" class="blob-code blob-code-inner js-file-line">	<span class="pl-s"><span class="pl-pds">&quot;</span>../gen/go<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-go-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-main-go-LC8" class="blob-code blob-code-inner js-file-line">	<span class="pl-s"><span class="pl-pds">&quot;</span>golang.org/x/net/context<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-go-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-main-go-LC9" class="blob-code blob-code-inner js-file-line">	<span class="pl-s"><span class="pl-pds">&quot;</span>google.golang.org/grpc<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-go-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-main-go-LC10" class="blob-code blob-code-inner js-file-line">)</td>
      </tr>
      <tr>
        <td id="file-main-go-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-main-go-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-go-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-main-go-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">type</span> greetingServer <span class="pl-k">struct</span> {</td>
      </tr>
      <tr>
        <td id="file-main-go-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-main-go-LC13" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-main-go-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-main-go-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-go-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-main-go-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> Returns a greeting message</span></td>
      </tr>
      <tr>
        <td id="file-main-go-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-main-go-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-k">func</span> <span class="pl-en">(<span class="pl-v">g</span> *<span class="pl-v">greetingServer</span>) <span class="pl-en">Hello</span></span>(<span class="pl-v">ctx</span> <span class="pl-v">context</span>.<span class="pl-v">Context</span>, <span class="pl-v">r</span> *<span class="pl-v">example</span>.<span class="pl-v">GreetingRequest</span>) (*<span class="pl-v">example</span>.<span class="pl-v">GreetingReply</span>, <span class="pl-v">error</span>) {</td>
      </tr>
      <tr>
        <td id="file-main-go-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-main-go-LC17" class="blob-code blob-code-inner js-file-line">	log.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Hello called<span class="pl-pds">&quot;</span></span>)</td>
      </tr>
      <tr>
        <td id="file-main-go-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-main-go-LC18" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">return</span> &amp;example.<span class="pl-smi">GreetingReply</span>{Text: <span class="pl-s"><span class="pl-pds">&quot;</span>Hello <span class="pl-pds">&quot;</span></span> + r.<span class="pl-smi">Name</span>}, <span class="pl-c1">nil</span></td>
      </tr>
      <tr>
        <td id="file-main-go-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-main-go-LC19" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-main-go-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-main-go-LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-go-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-main-go-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-k">func</span> <span class="pl-en">main</span>() {</td>
      </tr>
      <tr>
        <td id="file-main-go-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-main-go-LC22" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">lis</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> net.<span class="pl-c1">Listen</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>tcp<span class="pl-pds">&quot;</span></span>, <span class="pl-s"><span class="pl-pds">&quot;</span>localhost:9001<span class="pl-pds">&quot;</span></span>)</td>
      </tr>
      <tr>
        <td id="file-main-go-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-main-go-LC23" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span> err != <span class="pl-c1">nil</span> {</td>
      </tr>
      <tr>
        <td id="file-main-go-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-main-go-LC24" class="blob-code blob-code-inner js-file-line">		<span class="pl-c1">panic</span>(err)</td>
      </tr>
      <tr>
        <td id="file-main-go-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-main-go-LC25" class="blob-code blob-code-inner js-file-line">	}</td>
      </tr>
      <tr>
        <td id="file-main-go-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-main-go-LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-go-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-main-go-LC27" class="blob-code blob-code-inner js-file-line">	log.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Starting server<span class="pl-pds">&quot;</span></span>)</td>
      </tr>
      <tr>
        <td id="file-main-go-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-main-go-LC28" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">s</span> <span class="pl-k">:=</span> grpc.<span class="pl-c1">NewServer</span>()</td>
      </tr>
      <tr>
        <td id="file-main-go-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-main-go-LC29" class="blob-code blob-code-inner js-file-line">	example.<span class="pl-c1">RegisterGreeterServer</span>(s, &amp;greetingServer{})</td>
      </tr>
      <tr>
        <td id="file-main-go-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-main-go-LC30" class="blob-code blob-code-inner js-file-line">	s.<span class="pl-c1">Serve</span>(lis)</td>
      </tr>
      <tr>
        <td id="file-main-go-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-main-go-LC31" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pasdam/d05af20fdb57da156af62ea914396611/raw/5cc42a533e23daa5e5617be2d5cb7c77072ee872/main.go" style="float:right">view raw</a>
        <a href="https://gist.github.com/pasdam/d05af20fdb57da156af62ea914396611#file-main-go">main.go</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
</p>
<p>Nothing complex here, just a couple of things: first we implemented the RPC method, that simply takes the input string and reply prepending "Hello " to that. In the <em>main</em> method the first thing we have to do is to specify the port on which the server should respond (we will use it later with the client). Then the last thing to do is to create the server, register the greeting service and start serving the requests.</p>
<p>To run the server just use the following command from the project root:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">cd</span> server
go get <span class="token comment"># optional</span>
go run main.go</code></pre></div>
<p>Note: the <code class="language-text">go get</code> command is optional, and it's required only the first time to force the download of all dependencies (all the imported packages).</p>
<h3 id="client"><a href="#client" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Client</h3>
<p>As first thing we will create a wrapper for the stub, that will hide all the complexity for each RPC call.</p>
<p><div id="gist91274181" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-greeterclientcli-h" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-c ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-greeterclientcli-h-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-greeterclientcli-h-LC1" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">ifndef</span> __CLIENT_CLI_H_</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-greeterclientcli-h-LC2" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">define</span> <span class="pl-en">__CLIENT_CLI_H_</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-greeterclientcli-h-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-greeterclientcli-h-LC4" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>iostream<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-greeterclientcli-h-LC5" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>string<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-greeterclientcli-h-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-greeterclientcli-h-LC7" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>grpc++/grpc++.h<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-greeterclientcli-h-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-greeterclientcli-h-LC9" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>../../gen/greeting.grpc.pb.h<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-greeterclientcli-h-LC10" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-greeterclientcli-h-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> grpc::Channel;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-greeterclientcli-h-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> grpc::ClientContext;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-greeterclientcli-h-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> grpc::Status;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-greeterclientcli-h-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> example::GreetingRequest;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-greeterclientcli-h-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> example::GreetingReply;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-greeterclientcli-h-LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> example::Greeter;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-greeterclientcli-h-LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-greeterclientcli-h-LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-en">GreeterClientCli</span> {</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-greeterclientcli-h-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-k">public:</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-greeterclientcli-h-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">GreeterClientCli</span>(std::shared_ptr&lt;Channel&gt; channel) : stub_(Greeter::NewStub(channel)) {}</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-greeterclientcli-h-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-greeterclientcli-h-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> Assembles the client&#39;s payload, sends it and presents the response back</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-greeterclientcli-h-LC23" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> from the server.</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-greeterclientcli-h-LC24" class="blob-code blob-code-inner js-file-line">    std::string <span class="pl-en">hello</span>(<span class="pl-k">const</span> std::string&amp; name) {</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-greeterclientcli-h-LC25" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Data we are sending to the server.</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-greeterclientcli-h-LC26" class="blob-code blob-code-inner js-file-line">        GreetingRequest request;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-greeterclientcli-h-LC27" class="blob-code blob-code-inner js-file-line">        request.<span class="pl-c1">set_name</span>(name);</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-greeterclientcli-h-LC28" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-greeterclientcli-h-LC29" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Container for the data we expect from the server.</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-greeterclientcli-h-LC30" class="blob-code blob-code-inner js-file-line">        GreetingReply reply;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-greeterclientcli-h-LC31" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-greeterclientcli-h-LC32" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Context for the client. It could be used to convey extra information to</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-greeterclientcli-h-LC33" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> the server and/or tweak certain RPC behaviors.</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-greeterclientcli-h-LC34" class="blob-code blob-code-inner js-file-line">        ClientContext context;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-greeterclientcli-h-LC35" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-greeterclientcli-h-LC36" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> The actual RPC.</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-greeterclientcli-h-LC37" class="blob-code blob-code-inner js-file-line">        Status status = stub_-&gt;<span class="pl-c1">Hello</span>(&amp;context, request, &amp;reply);</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-greeterclientcli-h-LC38" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-greeterclientcli-h-LC39" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Act upon its status.</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-greeterclientcli-h-LC40" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (status.<span class="pl-c1">ok</span>()) {</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-greeterclientcli-h-LC41" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">return</span> reply.<span class="pl-c1">text</span>();</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-greeterclientcli-h-LC42" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-greeterclientcli-h-LC43" class="blob-code blob-code-inner js-file-line">        } <span class="pl-k">else</span> {</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-greeterclientcli-h-LC44" class="blob-code blob-code-inner js-file-line">            std::cout &lt;&lt; status.<span class="pl-c1">error_code</span>() &lt;&lt; <span class="pl-s"><span class="pl-pds">&quot;</span>: <span class="pl-pds">&quot;</span></span> &lt;&lt; status.<span class="pl-c1">error_message</span>() &lt;&lt; std::endl;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-greeterclientcli-h-LC45" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>RPC failed<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-greeterclientcli-h-LC46" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-greeterclientcli-h-LC47" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-greeterclientcli-h-LC48" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-greeterclientcli-h-LC49" class="blob-code blob-code-inner js-file-line"><span class="pl-k">private:</span></td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-greeterclientcli-h-LC50" class="blob-code blob-code-inner js-file-line">    std::unique_ptr&lt;Greeter::Stub&gt; stub_;</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-greeterclientcli-h-LC51" class="blob-code blob-code-inner js-file-line">};</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-greeterclientcli-h-LC52" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-greeterclientcli-h-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-greeterclientcli-h-LC53" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">endif</span> <span class="pl-c"><span class="pl-c">//</span> __CLIENT_CLI_H_</span></td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pasdam/5cc0b4f15ca136485a90da2f528760d2/raw/c4fd693d78b2ab0c72fb3b9c71219705fc727af1/GreeterClientCli.h" style="float:right">view raw</a>
        <a href="https://gist.github.com/pasdam/5cc0b4f15ca136485a90da2f528760d2#file-greeterclientcli-h">GreeterClientCli.h</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
</p>
<p>In particular in the <code class="language-text">hello</code> method we create the gRPC request and its context, then we perform the RPC and retrieve the response.</p>
<p>One thing to notice: this class holds a reference to a stub of the service, created in the constructor using a specified <a href="https://grpc.io/docs/guides/concepts.html#channels">channel</a> (more on this later). Such stub is used to deliver the request to the actual service, and hides all the communication logic (i.e. serialization/deserialization).</p>
<p>The command line client is quite simple: it consists of a small <code class="language-text">main</code> method that reads from the standard input, executes the request and prints the result:</p>
<p><div id="gist91274999" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-main-c" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-c ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-main-c-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-main-c-LC1" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>iostream<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-c-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-main-c-LC2" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>memory<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-c-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-main-c-LC3" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>string<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-c-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-main-c-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-main-c-LC5" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>grpc++/grpc++.h<span class="pl-pds">&gt;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-c-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-main-c-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-main-c-LC7" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>../core/GreeterClientCli.h<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-c-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-main-c-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-main-c-LC9" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>../../gen/greeting.grpc.pb.h<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-main-c-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-main-c-LC10" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-main-c-LC11" class="blob-code blob-code-inner js-file-line">using grpc::Channel;</td>
      </tr>
      <tr>
        <td id="file-main-c-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-main-c-LC12" class="blob-code blob-code-inner js-file-line">using grpc::ClientContext;</td>
      </tr>
      <tr>
        <td id="file-main-c-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-main-c-LC13" class="blob-code blob-code-inner js-file-line">using grpc::Status;</td>
      </tr>
      <tr>
        <td id="file-main-c-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-main-c-LC14" class="blob-code blob-code-inner js-file-line">using example::GreetingRequest;</td>
      </tr>
      <tr>
        <td id="file-main-c-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-main-c-LC15" class="blob-code blob-code-inner js-file-line">using example::GreetingReply;</td>
      </tr>
      <tr>
        <td id="file-main-c-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-main-c-LC16" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-main-c-LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-k">int</span> <span class="pl-en">main</span>(<span class="pl-k">int</span> argc, <span class="pl-k">char</span>** argv) {</td>
      </tr>
      <tr>
        <td id="file-main-c-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-main-c-LC18" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> Instantiate the client. It requires a channel, out of which the actual RPCs</span></td>
      </tr>
      <tr>
        <td id="file-main-c-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-main-c-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> are created. This channel models a connection to an endpoint (in this case,</span></td>
      </tr>
      <tr>
        <td id="file-main-c-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-main-c-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> localhost at port 9001). We indicate that the channel isn&#39;t authenticated</span></td>
      </tr>
      <tr>
        <td id="file-main-c-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-main-c-LC21" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span> (use of InsecureChannelCredentials()).</span></td>
      </tr>
      <tr>
        <td id="file-main-c-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-main-c-LC22" class="blob-code blob-code-inner js-file-line">    GreeterClientCli <span class="pl-smi">greeter</span>(<span class="pl-c1">grpc::CreateChannel</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>localhost:9001<span class="pl-pds">&quot;</span></span>, <span class="pl-c1">grpc::InsecureChannelCredentials</span>()));</td>
      </tr>
      <tr>
        <td id="file-main-c-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-main-c-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-main-c-LC24" class="blob-code blob-code-inner js-file-line">    std::cout &lt;&lt; <span class="pl-s"><span class="pl-pds">&quot;</span>Insert name: <span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="file-main-c-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-main-c-LC25" class="blob-code blob-code-inner js-file-line">    std::string user;</td>
      </tr>
      <tr>
        <td id="file-main-c-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-main-c-LC26" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">std::getline</span>(std::cin, user);</td>
      </tr>
      <tr>
        <td id="file-main-c-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-main-c-LC27" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-main-c-LC28" class="blob-code blob-code-inner js-file-line">    std::string reply = greeter.<span class="pl-c1">hello</span>(user);</td>
      </tr>
      <tr>
        <td id="file-main-c-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-main-c-LC29" class="blob-code blob-code-inner js-file-line">    std::cout &lt;&lt; <span class="pl-s"><span class="pl-pds">&quot;</span>Greeter received: <span class="pl-pds">&quot;</span></span> &lt;&lt; reply &lt;&lt; std::endl;</td>
      </tr>
      <tr>
        <td id="file-main-c-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-main-c-LC30" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-main-c-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-main-c-LC31" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="file-main-c-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-main-c-LC32" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pasdam/8293dec389e09391ac5b6d9eacd748d6/raw/9db3a0e40e6945422dae96445fa6c281280ab3e2/main.c" style="float:right">view raw</a>
        <a href="https://gist.github.com/pasdam/8293dec389e09391ac5b6d9eacd748d6#file-main-c">main.c</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
</p>
<p>The only thing to notice here is the <a href="https://grpc.io/docs/guides/concepts.html#channels">channel</a> creation: we specified the address (<code class="language-text">localhost:9001</code>), and configure it not to use TLS/SSL.</p>
<p>Next step is to compile the code with:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">g++ -I/usr/local/include -pthread -std<span class="token operator">=</span>c++11 -c -o <span class="token variable">$OUT_DIR</span>/client-cli.o client/cli/main.cpp
g++ <span class="token variable">$OUT_DIR</span>/greeting.pb.o <span class="token variable">$OUT_DIR</span>/greeting.grpc.pb.o <span class="token variable">$OUT_DIR</span>/client-cli.o -L/usr/local/lib <span class="token variable"><span class="token variable">`</span>pkg-config --libs grpc++ grpc<span class="token variable">`</span></span> -lgrpc++_reflection -lprotobuf -lpthread -ldl -o <span class="token variable">$OUT_DIR</span>/client-cli</code></pre></div>
<p>And finally we can execute the client with: </p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token variable">$OUT_DIR</span>/client-cli
Insert name: Thor
Greeter received: Hello Thor</code></pre></div></div><hr/></div></div><div id="backToTopButton-module--toTopButton--wEvr0"><svg aria-hidden="true" data-prefix="fas" data-icon="chevron-circle-up" class="svg-inline--fa fa-chevron-circle-up fa-w-16 fa-3x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm231-113.9L103.5 277.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L256 226.9l101.6 101.6c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L273 142.1c-9.4-9.4-24.6-9.4-34 0z"></path></svg></div></div></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-20503043-3',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-20503043-3', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-js","jsonName":"blog-grpc-qt-go-462","path":"/blog/grpc_qt_go/"};window.dataPath="641/path---blog-grpc-qt-go-462-7e2-x7LKfCdEdcdBF0bb7IVebFxAfms";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-eb7d6b37a92e4271bd05.js"],"component---src-templates-blog-js":["/component---src-templates-blog-js.1ff08fc5db06c66d40b5.css","/component---src-templates-blog-js-c4d3b5414804484787db.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js.b5758704104e6e86eda1.css","/component---src-templates-tag-js-69df5ccbf452075ef669.js"],"component---src-pages-404-js":["/component---src-pages-404-js-d60a9a54b4426ea4e4d5.js"],"component---src-pages-all-tags-js":["/component---src-pages-all-tags-js.459293211a9a6bfeeda0.css","/component---src-pages-all-tags-js-76c116083a0e7b87e2a7.js"],"component---src-pages-index-js":["/component---src-pages-index-js.c923c16e3809b3c37998.css","/component---src-pages-index-js-3c341f5184ffa5f2a5ab.js"]};/*]]>*/</script><script src="/component---src-templates-blog-js-c4d3b5414804484787db.js" async=""></script><script src="/8-9b49af54ee57178d2a77.js" async=""></script><script src="/0-9b96bb0ff7b3bd09afb6.js" async=""></script><script src="/app-eb7d6b37a92e4271bd05.js" async=""></script><script src="/webpack-runtime-3fc9cd4e6e90c49d5b6c.js" async=""></script></body></html>