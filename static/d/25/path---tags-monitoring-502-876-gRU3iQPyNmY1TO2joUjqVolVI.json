{"data":{"site":{"siteMetadata":{"title":"/dev/null"}},"allMarkdownRemark":{"totalCount":1,"edges":[{"node":{"id":"0a13342c-1ee7-5fd1-a7e1-87aabf42d423","excerpt":"\n[DataDog](https://www.datadoghq.com/) is a monitoring service for cloud-scale applications, in the following we'll se how to create a docker container with the [DataDog agent](https://docs.datadoghq.com/agent/?tab=agentv6) and how to use it to publish metrics.\n\n## Requirements\n\nIn the following article we assume that yuo have:\n\n* a [DataDog](https://www.datadoghq.com/) account with a valid API key; you can get the key from [Integrations > API](https://app.datadoghq.com/account/settings#api);\n* [Docker installed](https://docs.docker.com/install/).\n\n## Setup docker container\n\nAs first thing, we create an environment variable that we'll use to pass the API key to the docker container:\n\n```bash\nDD_API_KEY=<API_KEY>\n```\n\nThen we run the container with the agent with:\n\n```bash\ndocker run --rm -d -v /var/run/docker.sock:/var/run/docker.sock:ro -v /proc/:/host/proc/:ro -v /sys/fs/cgroup/:/host/sys/fs/cgroup:ro -e DD_API_KEY=$DD_API_KEY --name dd-agent datadog/agent:latest\n```\n\nThe previous command should be enough for the most common cases, but if for specific reasons you need to send metrics from your host machine to the [DataDog agent](https://docs.datadoghq.com/agent/?tab=agentv6), you should run the following:\n\n```bash\n$ docker run \\\n    --rm \\\n    -d \\\n    -v /var/run/docker.sock:/var/run/docker.sock:ro \\\n    -v /proc/:/host/proc/:ro \\\n    -v /sys/fs/cgroup/:/host/sys/fs/cgroup:ro \\\n    -e DD_API_KEY=$DD_API_KEY \\\n    -e DD_DOGSTATSD_NON_LOCAL_TRAFFIC=true \\\n    -p 8125:8125/udp \\\n    --name dd-agent \\\n    datadog/agent:latest\n```\n\nThis way the container port is exposed to the local machine.\n\n","frontmatter":{"date":"2018-11-23","title":"Install DataDog Agent as a docker container"},"timeToRead":2,"fields":{"slug":"/blog/datadog_agent_docker/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"tag":"monitoring"}}