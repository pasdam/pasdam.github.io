{"data":{"site":{"siteMetadata":{"disqusShortname":"pasdam-github-io","title":"/dev/null"}},"markdownRemark":{"id":"1b172462-7f7d-5c4c-bdc3-629d1d6f0bd4","frontmatter":{"date":"April 27, 2019","title":"Add Disqus comments to a GatsbyJS static blog","tags":["blog","comments","Disqus","GatsbyJS"]},"html":"<p>There are <a href=\"https://www.gatsbyjs.org/blog/2018-04-10-how-to-handle-comments-in-gatsby-blogs/\">different ways</a> to add a comments section to your static website or blog, in this guide we won't talk about pros and cons of each solution but we will actually focus on how to use <a href=\"https://disqus.com\">Disqus</a> to enable users to leave comments on a blog generated with <a href=\"https://www.gatsbyjs.org/\">GatsbyJS</a>.</p>\n<!-- intro_end -->\n<p>Even though this tutorial is focused on <a href=\"https://www.gatsbyjs.org/\">GatsbyJS</a> it should apply to any React website.</p>\n<h2 id=\"disqus\"><a href=\"#disqus\" aria-label=\"disqus permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Disqus</h2>\n<p>Disqus offers an easy to use platform to add comments to your website.</p>\n<p>According to <a href=\"https://en.wikipedia.org/wiki/Disqus\">Wikipedia</a>:</p>\n<blockquote>\n<p>Disqus is a worldwide blog comment hosting service for web sites and online communities that use a networked platform. The company's platform includes various features, such as social integration, social networking, user profiles, spam and moderation tools, analytics, email notifications, and mobile commenting.</p>\n</blockquote>\n<p>Note: the info about the users and the comments will be stored on Disqus servers.</p>\n<p>The first thing to do, if you didn't do it yet, is to <strong>create an account</strong> and then <strong>register your new website</strong> in order to get the <strong>shortname</strong>, that will be used to retrieve the script that will load the comments section. It will be something like:</p>\n<div class=\"gatsby-highlight\" data-language=\"none\"><pre class=\"language-none\"><code class=\"language-none\">pasdam-github-io</code></pre></div>\n<h2 id=\"gatsbyjs\"><a href=\"#gatsbyjs\" aria-label=\"gatsbyjs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GatsbyJS</h2>\n<p>Next thing to do is to configure the GatsbyJS website to load the Disqus section. To do this there are few GatsbyJS plugins, but in this tutorial we'll use the official React one.</p>\n<p>So let's install it with:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> disqus-react</code></pre></div>\n<p>The previous command will add the plugin to yours <code class=\"language-text\">package.json</code> file and download the required module.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// import { DiscussionEmbed, CommentCount } from 'disqus-react';</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Article</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> disqusShortname <span class=\"token operator\">=</span> <span class=\"token string\">'example'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> disqusConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            url<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span>\n            identifier<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n            title<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"article\"</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>Disqus<span class=\"token punctuation\">.</span>CommentCount shortname<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>disqusShortname<span class=\"token punctuation\">}</span> config<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>disqusConfig<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                    Comments\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Disqus<span class=\"token punctuation\">.</span>CommentCount<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>article<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>Disqus<span class=\"token punctuation\">.</span>DiscussionEmbed shortname<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>disqusShortname<span class=\"token punctuation\">}</span> config<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>disqusConfig<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>To see the few changes I made to this blog to add the comments section just refer to the commit <a href=\"to.do\">TODO</a>.</p>\n<p>Sources:</p>\n<ol>\n<li><a href=\"https://mk.gg/add-disqus-comments-to-gatsby-blog/\">https://mk.gg/add-disqus-comments-to-gatsby-blog/</a></li>\n<li><a href=\"https://github.com/disqus/disqus-react\">https://github.com/disqus/disqus-react</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"/blog/gatsbyjs_add_diqus_comments/#disqus\">Disqus</a></li>\n<li><a href=\"/blog/gatsbyjs_add_diqus_comments/#gatsbyjs\">GatsbyJS</a></li>\n</ul>","timeToRead":2}},"pageContext":{"isCreatedByStatefulCreatePages":false}}